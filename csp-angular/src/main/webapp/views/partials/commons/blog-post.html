<div class="container-fluid" ng-controller="BlogPostController">
	<h1 ng-show="novo">Novo Post</h1>
	<div class="container-fluid container-fixed-lg bg-white p-t-20 p-b-20 m-t-20 m-b-20">
		<form name="blogForm" novalidate valdr-type="Post">
			<div class="col-md-12">
				<div valdr-form-group ng-show="novo">
					<label for="topico">Tópico:</label>
					<input type="text" class="form-control" ng-model="post.titulo" id="topico" name="titulo">
				</div>

				<div valdr-form-group>
					<label for="mensagem"  ng-show="novo">Publicação:</label>
					<textarea id="mensagem" class="form-control" ng-model="post.mensagem" name="mensagem" ng-show="novo"></textarea>
					<h1 ng-show="!novo">{{post.titulo}}
						<button ng-show="!novo && proprio(post)" class="btn btn-xs btn-default no-border" aria-label="Left Align" title="Editar"
								data-toggle="modal" data-target="#blog-post-modal" ng-click="modalEditPost(post, comentario)">
							<span class="fa fa-pencil" aria-hidden="true"></span>
						</button>
					</h1>
					<h6 ng-show="!novo">{{post.dataCriacao | date: "dd/MM/yyyy"}}</h6>
					<h5 ng-show="!novo">{{post.mensagem}}</h5>
				</div>
			</div>
			<div ng-show="novo">
				<button class="btn btn-primary m-t-35 btn-animated from-left pg pg-save pull-right" ng-click="salvar()">
					<span><i class="fa fa-save m-r-5"></i>Salvar</span>
				</button>
			</div>
		</form>
	</div>
	<div class="col-md-12 m-t-10 p-l-0" ng-show="!novo">
		<label class="bold" for="topico">Comentários</label><br>
		<div ng-show="comentarios.length == 0">
			Nenhum usuário comentou esta publicação!
		</div>
		<div class="card share col2" data-social="item" ng-repeat="comentario in comentarios">
			<div class="" data-toggle="tooltip" title="Label" data-container="body">
				<div class="pull-right small hint-text m-r-5 m-t-10">
					<button class="btn btn-default no-border" title="Remover" ng-click="removerComentario(comentario.id)" ng-if="proprio(comentario) || isAdministrador()"><i class="fa fa-trash"></i></button>
				</div>
				<div class="pull-right small hint-text m-r-5 m-t-10">
					<button class="btn btn-default no-border" title="Editar" data-toggle="modal" data-target="#blog-post-modal" ng-click="modalEdit(post, comentario)" ng-if="proprio(comentario)"><i class="fa fa-pencil"></i></button>
				</div>
			</div>
			<div class="card-header clearfix">
				<h5>{{comentario.usuario.nome}} {{comentario.usuario.sobrenome}}</h5>
				<h6>{{comentario.dataCriacao | date: "dd/MM/yyyy"}}</h6>
			</div>
			<div class="card-description">
				<p>{{comentario.mensagem}}</p>
			</div>
		</div>
	</div>
	<div ng-show="comentarios.length > 0">
		<botoes-paginacao></botoes-paginacao>
	</div>
	<label class="bold m-t-10" ng-show="!novo" for="topico">Comentar esta publicação</label><br>
	<div class="card share col3" ng-show="!novo">
		<form name="blogComentarioForm" novalidate>
			<div class="card-description">
				<textarea ng-required="true" id="comentario_mensagem" ng-model="mensagem" class="form-control"></textarea>
			</div>
			<div class="card-footer">
				<button type="button" class="btn btn-info btn-xs m-b-10 pull-right" ng-click="adicionaComentario()">Comentar</button>
			</div>
		</form>
	</div>
	<br><br>
	<button type="button" class="btn btn-default" ng-click="voltar()">
		Voltar
		<span class="glyphicon glyphicon-chevron-left"></span>
	</button>
	<blog-post-modal></blog-post-modal>
</div>