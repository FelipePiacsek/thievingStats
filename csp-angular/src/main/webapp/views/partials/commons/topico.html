<div class="container-fluid" ng-controller="TopicoController">

    <h1>Topico: {{topic.titulo}}</h1>
	
    <div class="col-md-12 post-it-empty-frame" ng-show="!posts.length">
        <div class="alert alert-danger" role="alert">Nenhuma postagem no tópico</div>
    </div>
    <div class="col-md-12">
		<button class="btn btn-default margin-top float-right" ng-click="seguirTopico()" ng-show="!seguindo">
	        Seguir
	    	<span class="glyphicon glyphicon-chevron-right"></span>
	    </button>
	    <button class="btn btn-default margin-top float-right" ng-click="naoSeguirTopico()" ng-show="seguindo">
	        Não Seguir
	    	<span class="glyphicon glyphicon-chevron-left"></span>
	    </button>
    </div>
    <div class="col-md-12 m-t-10 p-l-0" ng-show="posts.length">
		<div class="card share col2" data-social="item" ng-repeat="post in posts">
			<div class="" data-toggle="tooltip" title="Label" data-container="body">
				<div class="pull-right small hint-text m-r-5 m-t-10">
					<button class="btn btn-default no-border" ng-click="removeMessage(post.id)" ng-if="proprio(post) || isAdministrador()" title="Remover"><i class="fa fa-trash"></i></button>
				</div>
				<div class="pull-right small hint-text m-r-5 m-t-10">
					<button class="btn btn-default no-border" data-toggle="modal" data-target="#forum-modal" ng-click="modalEdit(post, topic)" ng-if="proprio(post)" title="Editar"><i class="fa fa-pencil"></i></button>
				</div>
			</div>
			<div class="card-header clearfix">
				<h5>{{post.usuario.nome}} {{post.usuario.sobrenome}}</h5>
				<h6>{{post.dataCriacao | date: "dd/MM/yyyy"}}</h6>
			</div>
			<div class="card-description">
				<p>{{post.mensagem}}</p>
			</div>
			<div class="card-footer" ng-show="post.arquivos !== null && post.arquivos.length > 0">
				<div ng-show="post.arquivos !== null && post.arquivos.length > 0">
					<p class="small"><b>Arquivos Anexados:</b></p>
				</div>
				<div ng-show="post.arquivos !== null && post.arquivos.length > 0">
					<table class="table table-condensed">
						<tr>
							<th>Nome do Arquivo</th>
							<th>Download</th>
						</tr>
						<tr ng-repeat="arquivo in post.arquivos">
							<td>{{arquivo.nome}}</td>
							<td>
								<a class="btn btn-success btn-xs" download="{{arquivo.nome}}" href="{{downloadArquivoURL(arquivo)}}">
									<span class="glyphicon glyphicon-download" aria-hidden="true"></span>
								</a>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>

    <div>

	    <div ng-show="posts.length">
		    <botoes-paginacao></botoes-paginacao>
	    </div>
		<button type="button" class="btn btn-default" ng-click="voltar()">
			Voltar
			<span class="glyphicon glyphicon-chevron-left"></span>
		</button>
		<button class="btn btn-primary margin-top" data-toggle="modal" data-target="#forum-modal" ng-click="modalComment(post, topic)" >
	    	Participar
	    </button>
	</div>
    <forum-modal mode="'EDITION'"></forum-modal>

</div>